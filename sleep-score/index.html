<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sleep Score ‚Äî How Well Do You Really Sleep?</title>
<meta name="description" content="Take the free Sleep Score quiz. Answer 8 quick questions about your sleep habits and get a personalized score with science-backed tips to sleep better tonight.">
<meta name="keywords" content="sleep score, sleep quality test, sleep calculator, how to sleep better, sleep quiz, sleep habits">
<meta property="og:title" content="Sleep Score ‚Äî How Well Do You Really Sleep?">
<meta property="og:description" content="Free personalized sleep quality assessment with science-backed improvement tips.">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Instrument+Serif:ital@0;1&family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{--bg:#0a0a0f;--card:#141420;--border:#1e1e30;--text:#e8e4df;--muted:#8a8694;--accent:#6c5ce7;--accent2:#00cec9;--warn:#fdcb6e;--bad:#e17055;--good:#00b894}
body{font-family:'Space Grotesk',sans-serif;background:var(--bg);color:var(--text);min-height:100vh;overflow-x:hidden}
body::before{content:'';position:fixed;inset:0;background:radial-gradient(ellipse at 20% 0%,rgba(108,92,231,.15),transparent 60%),radial-gradient(ellipse at 80% 100%,rgba(0,206,201,.1),transparent 60%);pointer-events:none;z-index:0}
.noise{position:fixed;inset:0;opacity:.035;pointer-events:none;z-index:1;background-image:url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.85' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");background-repeat:repeat;background-size:256px}
.container{max-width:640px;margin:0 auto;padding:24px 20px 60px;position:relative;z-index:2}
h1{font-family:'Instrument Serif',serif;font-size:clamp(2.8rem,8vw,4.2rem);line-height:1.05;margin-bottom:8px;background:linear-gradient(135deg,#e8e4df 30%,#6c5ce7 70%,#00cec9);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.subtitle{color:var(--muted);font-size:1.05rem;margin-bottom:40px;line-height:1.5}
.progress-bar{width:100%;height:4px;background:var(--border);border-radius:2px;margin-bottom:32px;overflow:hidden}
.progress-fill{height:100%;background:linear-gradient(90deg,var(--accent),var(--accent2));border-radius:2px;transition:width .4s ease}
.question-num{font-size:.85rem;color:var(--muted);text-transform:uppercase;letter-spacing:.1em;margin-bottom:8px}
.question-text{font-family:'Instrument Serif',serif;font-size:1.6rem;line-height:1.3;margin-bottom:24px}
.options{display:flex;flex-direction:column;gap:10px}
.option{background:var(--card);border:1px solid var(--border);border-radius:12px;padding:16px 20px;cursor:pointer;transition:all .2s;font-size:1rem;text-align:left;color:var(--text);font-family:inherit}
.option:hover{border-color:var(--accent);background:#1a1a2e;transform:translateX(4px)}
.option.selected{border-color:var(--accent);background:rgba(108,92,231,.15)}

/* Results */
.results{display:none}
.score-ring{width:200px;height:200px;margin:0 auto 24px;position:relative}
.score-ring svg{width:100%;height:100%;transform:rotate(-90deg)}
.score-ring circle{fill:none;stroke-width:8}
.score-ring .bg{stroke:var(--border)}
.score-ring .fg{stroke-dasharray:565;stroke-dashoffset:565;stroke-linecap:round;transition:stroke-dashoffset 1.5s ease}
.score-num{position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center}
.score-num .val{font-family:'Instrument Serif',serif;font-size:3.6rem;line-height:1}
.score-num .label{font-size:.85rem;color:var(--muted);margin-top:4px}
.grade{text-align:center;font-family:'Instrument Serif',serif;font-size:1.8rem;margin-bottom:32px}
.tip-section{margin-bottom:28px}
.tip-section h3{font-size:1.1rem;font-weight:600;margin-bottom:12px;display:flex;align-items:center;gap:8px}
.tip-card{background:var(--card);border:1px solid var(--border);border-radius:12px;padding:18px 20px;margin-bottom:10px}
.tip-card p{color:var(--muted);font-size:.95rem;line-height:1.5;margin-bottom:10px}
.tip-card p:last-child{margin-bottom:0}
.aff-link{display:inline-flex;align-items:center;gap:6px;color:var(--accent2);text-decoration:none;font-weight:500;font-size:.9rem;transition:opacity .2s}
.aff-link:hover{opacity:.8}
.aff-link::after{content:'‚Üí'}
.cta-box{background:linear-gradient(135deg,rgba(108,92,231,.15),rgba(0,206,201,.1));border:1px solid rgba(108,92,231,.3);border-radius:16px;padding:28px 24px;text-align:center;margin:36px 0}
.cta-box h3{font-family:'Instrument Serif',serif;font-size:1.4rem;margin-bottom:8px}
.cta-box p{color:var(--muted);font-size:.95rem;margin-bottom:16px}
.email-form{display:flex;gap:8px;max-width:400px;margin:0 auto}
.email-form input{flex:1;padding:12px 16px;border-radius:10px;border:1px solid var(--border);background:var(--bg);color:var(--text);font-family:inherit;font-size:.95rem}
.email-form input::placeholder{color:var(--muted)}
.email-form button{padding:12px 20px;border-radius:10px;border:none;background:var(--accent);color:#fff;font-family:inherit;font-weight:600;cursor:pointer;transition:opacity .2s;white-space:nowrap}
.email-form button:hover{opacity:.85}
.share-row{display:flex;gap:10px;justify-content:center;margin:24px 0}
.share-btn{padding:10px 20px;border-radius:10px;border:1px solid var(--border);background:var(--card);color:var(--text);font-family:inherit;font-size:.9rem;cursor:pointer;transition:all .2s}
.share-btn:hover{border-color:var(--accent);background:#1a1a2e}
.retake{display:block;text-align:center;color:var(--muted);font-size:.9rem;margin-top:20px;cursor:pointer;text-decoration:underline}
.retake:hover{color:var(--text)}
.ad-slot{background:var(--card);border:1px dashed var(--border);border-radius:12px;padding:40px 20px;text-align:center;color:var(--muted);font-size:.8rem;margin:28px 0}
footer{text-align:center;color:var(--muted);font-size:.8rem;margin-top:48px;padding-top:24px;border-top:1px solid var(--border)}
footer a{color:var(--accent2);text-decoration:none}
@media(max-width:480px){.email-form{flex-direction:column}.email-form button{width:100%}}
</style>
</head>
<body>
<div class="noise"></div>
<div class="container">

<!-- HERO -->
<div id="hero">
<h1>Sleep Score</h1>
<p class="subtitle">Answer 8 quick questions about your sleep habits. Get a personalized score and science-backed tips to finally sleep better.</p>
</div>

<!-- PROGRESS -->
<div class="progress-bar" id="progressBar" style="display:none"><div class="progress-fill" id="progressFill"></div></div>

<!-- QUIZ -->
<div id="quiz"></div>

<!-- RESULTS -->
<div class="results" id="results"></div>

<footer>Sleep Score ‚Äî Built with üåô by <a href="https://stirman.net">stirman.net</a><br>Not medical advice. Consult a doctor for sleep disorders.</footer>
</div>

<script>
const questions = [
  {
    q: "What time do you usually go to bed?",
    opts: [
      { t: "Before 10 PM", s: 10 },
      { t: "10 PM ‚Äì 11 PM", s: 9 },
      { t: "11 PM ‚Äì Midnight", s: 7 },
      { t: "Midnight ‚Äì 1 AM", s: 4 },
      { t: "After 1 AM", s: 2 }
    ]
  },
  {
    q: "How many hours of sleep do you get on average?",
    opts: [
      { t: "Less than 5 hours", s: 2 },
      { t: "5‚Äì6 hours", s: 4 },
      { t: "6‚Äì7 hours", s: 7 },
      { t: "7‚Äì8 hours", s: 10 },
      { t: "More than 8 hours", s: 8 }
    ]
  },
  {
    q: "How long does it typically take you to fall asleep?",
    opts: [
      { t: "Under 10 minutes", s: 8 },
      { t: "10‚Äì20 minutes", s: 10 },
      { t: "20‚Äì40 minutes", s: 6 },
      { t: "40‚Äì60 minutes", s: 3 },
      { t: "Over an hour", s: 1 }
    ]
  },
  {
    q: "How often do you wake up during the night?",
    opts: [
      { t: "Never or rarely", s: 10 },
      { t: "Once", s: 8 },
      { t: "2‚Äì3 times", s: 5 },
      { t: "4+ times", s: 2 },
      { t: "I'm basically awake all night", s: 1 }
    ]
  },
  {
    q: "What's your screen time like before bed?",
    opts: [
      { t: "No screens 1+ hour before bed", s: 10 },
      { t: "I stop screens 30 min before", s: 8 },
      { t: "I use my phone in bed sometimes", s: 5 },
      { t: "I scroll until I pass out", s: 2 },
      { t: "I fall asleep watching TV every night", s: 3 }
    ]
  },
  {
    q: "How's your sleep environment?",
    opts: [
      { t: "Dark, cool, and quiet ‚Äî optimized", s: 10 },
      { t: "Pretty good ‚Äî blackout curtains, no noise", s: 8 },
      { t: "Decent ‚Äî could be darker or cooler", s: 6 },
      { t: "Bright, warm, or noisy", s: 3 },
      { t: "I haven't thought about it honestly", s: 4 }
    ]
  },
  {
    q: "Do you consume caffeine or alcohol close to bedtime?",
    opts: [
      { t: "No caffeine after noon, rarely drink", s: 10 },
      { t: "Afternoon coffee, occasional evening drink", s: 7 },
      { t: "Coffee until 3‚Äì4 PM, drink a few nights/week", s: 5 },
      { t: "Evening coffee or daily nightcap", s: 3 },
      { t: "Both ‚Äî late coffee AND nightly drinks", s: 1 }
    ]
  },
  {
    q: "How do you feel when you wake up?",
    opts: [
      { t: "Refreshed and ready to go", s: 10 },
      { t: "Pretty good after a few minutes", s: 8 },
      { t: "Groggy but functional", s: 5 },
      { t: "Exhausted ‚Äî need an alarm and coffee", s: 3 },
      { t: "I dread mornings, always tired", s: 1 }
    ]
  }
];

let current = 0;
let answers = [];
const quizEl = document.getElementById('quiz');
const resultsEl = document.getElementById('results');
const heroEl = document.getElementById('hero');
const progressBar = document.getElementById('progressBar');
const progressFill = document.getElementById('progressFill');

function renderQuestion() {
  const q = questions[current];
  progressBar.style.display = 'block';
  progressFill.style.width = ((current / questions.length) * 100) + '%';
  
  quizEl.innerHTML = `
    <div class="question-num">Question ${current + 1} of ${questions.length}</div>
    <div class="question-text">${q.q}</div>
    <div class="options">
      ${q.opts.map((o, i) => `<button class="option" data-idx="${i}">${o.t}</button>`).join('')}
    </div>
  `;

  quizEl.querySelectorAll('.option').forEach(btn => {
    btn.addEventListener('click', () => {
      answers.push(q.opts[btn.dataset.idx].s);
      current++;
      if (current < questions.length) {
        renderQuestion();
      } else {
        showResults();
      }
    });
  });
}

function showResults() {
  quizEl.style.display = 'none';
  heroEl.style.display = 'none';
  progressBar.style.display = 'none';
  
  const raw = answers.reduce((a, b) => a + b, 0);
  const max = questions.length * 10;
  const score = Math.round((raw / max) * 100);
  
  let grade, gradeColor, emoji;
  if (score >= 90) { grade = 'Excellent Sleeper'; gradeColor = 'var(--good)'; emoji = 'üåü'; }
  else if (score >= 75) { grade = 'Good Sleeper'; gradeColor = 'var(--accent2)'; emoji = 'üò¥'; }
  else if (score >= 55) { grade = 'Fair ‚Äî Room to Improve'; gradeColor = 'var(--warn)'; emoji = 'üòê'; }
  else if (score >= 35) { grade = 'Poor Sleeper'; gradeColor = 'var(--bad)'; emoji = 'üò©'; }
  else { grade = 'Sleep Emergency'; gradeColor = '#e74c3c'; emoji = 'üö®'; }

  const offset = 565 - (565 * score / 100);

  // Build personalized tips based on weak answers
  let tips = [];
  if (answers[0] <= 4) tips.push({ icon: 'üïê', title: 'Fix Your Bedtime', text: 'Going to bed after midnight disrupts your circadian rhythm. Aim for 10‚Äì11 PM consistently ‚Äî even on weekends. Your body\'s melatonin production peaks around 10 PM.', product: { name: 'Hatch Restore 2 Sunrise Alarm', url: 'https://www.amazon.com/dp/B0C5S7K1JK?tag=stirman-20', why: 'Gentle sunset routine that cues your body for sleep' } });
  if (answers[1] <= 4) tips.push({ icon: '‚è∞', title: 'You Need More Hours', text: 'Adults need 7‚Äì9 hours of sleep. Under 6 hours impairs cognitive function as much as being legally drunk. Protect your sleep window like an important meeting.', product: { name: 'Why We Sleep by Matthew Walker', url: 'https://www.amazon.com/dp/1501144324?tag=stirman-20', why: 'The book that changes how you think about sleep' } });
  if (answers[2] <= 6) tips.push({ icon: 'üßò', title: 'Fall Asleep Faster', text: 'Taking over 20 minutes to fall asleep signals your body isn\'t ready. Try the military sleep method: relax each muscle group progressively, clear your mind, and breathe deeply for 2 minutes.', product: { name: 'Manta Sleep Mask', url: 'https://www.amazon.com/dp/B07PRG2CQB?tag=stirman-20', why: 'Zero-pressure blackout mask ‚Äî blocks 100% of light' } });
  if (answers[3] <= 5) tips.push({ icon: 'üåô', title: 'Stop Waking Up at Night', text: 'Frequent wake-ups fragment your sleep cycles, reducing deep sleep and REM. Common causes: room too warm, alcohol, stress, or light exposure. Keep your bedroom at 65‚Äì68¬∞F.', product: { name: 'Eight Sleep Pod Cover', url: 'https://www.eightsleep.com/?ref=stirman', why: 'Smart mattress cover that auto-adjusts temperature all night' } });
  if (answers[4] <= 5) tips.push({ icon: 'üì±', title: 'Break the Screen Habit', text: 'Blue light from screens suppresses melatonin by up to 50%. The "scroll until I pass out" habit is one of the worst things for sleep quality. Set a hard phone curfew 60 minutes before bed.', product: { name: 'Kindle Paperwhite', url: 'https://www.amazon.com/dp/B09TMN58KL?tag=stirman-20', why: 'Warm-light e-reader that won\'t wreck your melatonin' } });
  if (answers[5] <= 6) tips.push({ icon: 'üõèÔ∏è', title: 'Optimize Your Bedroom', text: 'Your sleep environment matters more than you think. The ideal room is pitch dark, 65¬∞F, and silent. Even small amounts of light (LED clocks, streetlights) reduce deep sleep.', product: { name: 'Nicetown Blackout Curtains', url: 'https://www.amazon.com/dp/B00PF72K38?tag=stirman-20', why: 'Best-selling blackout curtains ‚Äî blocks 99% of light' } });
  if (answers[6] <= 5) tips.push({ icon: '‚òï', title: 'Watch Your Intake', text: 'Caffeine has a half-life of 5‚Äì6 hours. A 3 PM coffee means half is still in your system at 9 PM. Alcohol may help you fall asleep but destroys sleep quality ‚Äî especially REM sleep.', product: { name: 'Pique Sun Goddess Matcha', url: 'https://www.amazon.com/dp/B08N5GBX4F?tag=stirman-20', why: 'Morning caffeine ritual without the afternoon crash' } });
  if (answers[7] <= 5) tips.push({ icon: '‚òÄÔ∏è', title: 'Fix Your Morning Energy', text: 'Waking up exhausted means you\'re not getting enough deep sleep. Get bright light within 30 minutes of waking ‚Äî it resets your circadian clock and boosts cortisol (the good kind).', product: { name: 'Philips SmartSleep Wake-Up Light', url: 'https://www.amazon.com/dp/B0093162RM?tag=stirman-20', why: 'Simulates sunrise so you wake up naturally' } });

  if (tips.length === 0) {
    tips.push({ icon: '‚ú®', title: 'Keep It Up', text: 'Your sleep habits are excellent. Focus on consistency ‚Äî same bedtime and wake time every day, even weekends. Consider tracking your sleep to optimize further.', product: { name: 'Oura Ring Gen 3', url: 'https://www.amazon.com/dp/B0CS1GS4WL?tag=stirman-20', why: 'The gold standard in sleep tracking' } });
  }

  resultsEl.innerHTML = `
    <h1 style="text-align:center;margin-bottom:4px">Your Sleep Score</h1>
    <p class="subtitle" style="text-align:center">Based on your 8 answers</p>
    
    <div class="score-ring">
      <svg viewBox="0 0 200 200">
        <circle class="bg" cx="100" cy="100" r="90"/>
        <circle class="fg" cx="100" cy="100" r="90" stroke="${gradeColor}" style="stroke-dashoffset:${offset}"/>
      </svg>
      <div class="score-num">
        <span class="val" style="color:${gradeColor}">${score}</span>
        <span class="label">out of 100</span>
      </div>
    </div>
    
    <div class="grade" style="color:${gradeColor}">${emoji} ${grade}</div>

    <div class="tip-section">
      <h3>üî¨ Your Personalized Tips</h3>
      ${tips.map(t => `
        <div class="tip-card">
          <p><strong>${t.icon} ${t.title}</strong></p>
          <p>${t.text}</p>
          ${t.product ? `<a class="aff-link" href="${t.product.url}" target="_blank" rel="noopener">${t.product.name} ‚Äî ${t.product.why}</a>` : ''}
        </div>
      `).join('')}
    </div>

    <div class="ad-slot">üìä Ad Space ‚Äî Sleep brand sponsorship opportunity</div>

    <div class="cta-box">
      <h3>üåô Sleep Better This Week</h3>
      <p>Get a free weekly email with one science-backed sleep tip every Monday.</p>
      <div class="email-form">
        <input type="email" id="emailInput" placeholder="your@email.com">
        <button onclick="document.getElementById('emailInput').value='';this.textContent='Subscribed ‚úì';this.style.background='var(--good)'">Subscribe</button>
      </div>
    </div>

    <div class="share-row">
      <button class="share-btn" onclick="navigator.clipboard.writeText('I scored ${score}/100 on the Sleep Score quiz! How well do you sleep? '+location.href);this.textContent='Copied!'">üìã Copy Result</button>
      <button class="share-btn" onclick="window.open('https://twitter.com/intent/tweet?text=I+scored+${score}%2F100+on+the+Sleep+Score+quiz!+How+well+do+you+sleep%3F&url='+encodeURIComponent(location.href),'_blank')">ùïè Share</button>
    </div>

    <span class="retake" onclick="location.reload()">‚Ü© Retake the quiz</span>
  `;

  resultsEl.style.display = 'block';
  
  // Animate the ring after a brief delay
  requestAnimationFrame(() => {
    resultsEl.querySelector('.fg').style.strokeDashoffset = offset;
  });
}

// Start
renderQuestion();
</script>
</body>
</html>
